"use strict";

var modalView = function modalView() {
  var _common = common(),
      setNumFormat = _common.setNumFormat;

  var createModalTitle = function createModalTitle(data) {
    var logoTemplate = data.logo ? "<img src=\"".concat(data.logo, "\" alt=\"").concat(data.company, "\" style=\"margin-right:8px; height:40px;\">") : '';
    var company = data.company ? "".concat(data.company, " - \u5831\u50F9\u55AE") : '報價單';
    var taxiD = data.taxID ? "<div class=\"text-muted\">\u7D71\u4E00\u7DE8\u865F\uFF1A".concat(data.taxID, "</div>") : '';
    return "\n      <div class=\"d-flex align-items-center\">\n        <div>".concat(logoTemplate, "</div>\n        <div>\n          <div class=\"fs-2 fw-bolder\">").concat(company, "</div>\n          ").concat(taxiD, "\n        </div>\n      </div>\n     ");
  };

  var createItem = function createItem(data) {
    return data.map(function (e) {
      return "\n        <tr>\n          <td class=\"text-left\">".concat(e.category, "</td>\n          <td class=\"text-left\">").concat(e.item, "</td>\n          <td>").concat(e.price, "</td>\n          <td>").concat(e.count, " ").concat(!!e.unit ? '/' : '', " ").concat(e.unit, "</td>\n          <td class=\"text-end price\">NT$ ").concat(setNumFormat(e.amount), "</td>\n        </tr> \n      ");
    });
  };

  var createDesc = function createDesc(data) {
    return data ? "\n      <table class=\"table table-vcenter\">\n        <thead>\n          <tr>\n            <th>\u5099\u8A3B</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr>\n            <td>\n              ".concat(JSON.parse(JSON.stringify(data)).replace(/[\n\r]/g, '<br>'), "\n            </td>\n          </tr>\n        </thead>\n        </tbody>\n      </table>\n    ") : '';
  };

  var createModal = function createModal(data) {
    var $date = data.endDate ? "\n      <dt class=\"col-2\">\u5831\u50F9\u65E5\u671F:</dt>\n      <dd class=\"col-4\">".concat(data.startDate, "</dd>\n      <dt class=\"col-2\">\u6709\u6548\u65E5\u671F:</dt>\n      <dd class=\"col-4\">").concat(data.endDate, "</dd>\n      ") : "\n      <dt class=\"col-2\">\u5831\u50F9\u65E5\u671F:</dt>\n      <dd class=\"col-10\">".concat(data.startDate, "</dd>\n      ");
    return "\n    <div class=\"modal-body py-3\">\n      ".concat(createModalTitle(data), "\n    </div>\n    <div class=\"modal-body\">\n      <dl class=\"row\">\n        <dt class=\"col-2\">\u5831\u50F9\u4EBA\u54E1:</dt>\n        <dd class=\"col-10\">").concat(data.name, "</dd>\n        <dt class=\"col-2\">\u806F\u7D61\u96FB\u8A71:</dt>\n        <dd class=\"col-10\">").concat(data.phone, "</dd>\n        <dt class=\"col-2\">E-Mail:</dt>\n        <dd class=\"col-10\">").concat(data.email, "</dd>\n        ").concat($date, "\n      </dl>\n      <div class=\"table-responsive\">\n        <table class=\"table table-vcenter\">\n          <thead>\n            <tr>\n              <th>\u985E\u5225</th>\n              <th>\u9805\u76EE</th>\n              <th>\u55AE\u50F9</th>\n              <th>\u6578\u91CF</th>\n              <th class=\"text-end\">\u91D1\u984D</th>\n            </tr>\n          </thead>\n          <tbody>\n            ").concat(createItem(data.items).join(''), "\n            <tr>\n              <td colspan=\"5\" class=\"text-end\">\n               \u5408\u8A08\uFF1ANT$ <span class=\"fs-2 fw-bold text-danger\">").concat(data.total, "</span> \u5143\u6574\n              </td>\n            </tr>\n          </tbody>\n        </table>\n        ").concat(createDesc(data.desc), "\n      </div>\n    </div>\n    ");
  };

  return {
    createModal: createModal
  };
};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZpZXcuanMiXSwibmFtZXMiOlsibW9kYWxWaWV3IiwiY29tbW9uIiwic2V0TnVtRm9ybWF0IiwiY3JlYXRlTW9kYWxUaXRsZSIsImRhdGEiLCJsb2dvVGVtcGxhdGUiLCJsb2dvIiwiY29tcGFueSIsInRheGlEIiwidGF4SUQiLCJjcmVhdGVJdGVtIiwibWFwIiwiZSIsImNhdGVnb3J5IiwiaXRlbSIsInByaWNlIiwiY291bnQiLCJ1bml0IiwiYW1vdW50IiwiY3JlYXRlRGVzYyIsIkpTT04iLCJwYXJzZSIsInN0cmluZ2lmeSIsInJlcGxhY2UiLCJjcmVhdGVNb2RhbCIsIiRkYXRlIiwiZW5kRGF0ZSIsInN0YXJ0RGF0ZSIsIm5hbWUiLCJwaG9uZSIsImVtYWlsIiwiaXRlbXMiLCJqb2luIiwidG90YWwiLCJkZXNjIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQU1BLFNBQVMsR0FBRyxTQUFaQSxTQUFZLEdBQU07QUFBQSxnQkFDR0MsTUFBTSxFQURUO0FBQUEsTUFDZEMsWUFEYyxXQUNkQSxZQURjOztBQUd0QixNQUFNQyxnQkFBZ0IsR0FBRyxTQUFuQkEsZ0JBQW1CLENBQUNDLElBQUQsRUFBVTtBQUNqQyxRQUFNQyxZQUFZLEdBQUdELElBQUksQ0FBQ0UsSUFBTCx3QkFDSkYsSUFBSSxDQUFDRSxJQURELHNCQUNlRixJQUFJLENBQUNHLE9BRHBCLG9EQUVqQixFQUZKO0FBSUEsUUFBTUEsT0FBTyxHQUFHSCxJQUFJLENBQUNHLE9BQUwsYUFBa0JILElBQUksQ0FBQ0csT0FBdkIsNkJBQXlDLEtBQXpEO0FBQ0EsUUFBTUMsS0FBSyxHQUFHSixJQUFJLENBQUNLLEtBQUwscUVBQ3NCTCxJQUFJLENBQUNLLEtBRDNCLGNBRVYsRUFGSjtBQUlBLHFGQUVXSixZQUZYLDRFQUlvQ0UsT0FKcEMsK0JBS1FDLEtBTFI7QUFTRCxHQW5CRDs7QUFxQkEsTUFBTUUsVUFBVSxHQUFHLFNBQWJBLFVBQWEsQ0FBQ04sSUFBRCxFQUFVO0FBQzNCLFdBQU9BLElBQUksQ0FBQ08sR0FBTCxDQUNMLFVBQUNDLENBQUQ7QUFBQSx5RUFHNEJBLENBQUMsQ0FBQ0MsUUFIOUIsc0RBSTRCRCxDQUFDLENBQUNFLElBSjlCLGtDQUtVRixDQUFDLENBQUNHLEtBTFosa0NBTVVILENBQUMsQ0FBQ0ksS0FOWixjQU1xQixDQUFDLENBQUNKLENBQUMsQ0FBQ0ssSUFBSixHQUFXLEdBQVgsR0FBaUIsRUFOdEMsY0FNNENMLENBQUMsQ0FBQ0ssSUFOOUMsK0RBT3FDZixZQUFZLENBQUNVLENBQUMsQ0FBQ00sTUFBSCxDQVBqRDtBQUFBLEtBREssQ0FBUDtBQVlELEdBYkQ7O0FBY0EsTUFBTUMsVUFBVSxHQUFHLFNBQWJBLFVBQWEsQ0FBQ2YsSUFBRCxFQUFVO0FBQzNCLFdBQU9BLElBQUksb09BV0NnQixJQUFJLENBQUNDLEtBQUwsQ0FBV0QsSUFBSSxDQUFDRSxTQUFMLENBQWVsQixJQUFmLENBQVgsRUFBaUNtQixPQUFqQyxDQUF5QyxTQUF6QyxFQUFvRCxNQUFwRCxDQVhELHNHQWtCUCxFQWxCSjtBQW1CRCxHQXBCRDs7QUFxQkEsTUFBTUMsV0FBVyxHQUFHLFNBQWRBLFdBQWMsQ0FBQ3BCLElBQUQsRUFBVTtBQUM1QixRQUFNcUIsS0FBSyxHQUFHckIsSUFBSSxDQUFDc0IsT0FBTCxtR0FHUXRCLElBQUksQ0FBQ3VCLFNBSGIsd0dBS1F2QixJQUFJLENBQUNzQixPQUxiLHNIQVNTdEIsSUFBSSxDQUFDdUIsU0FUZCxrQkFBZDtBQVlBLGtFQUVJeEIsZ0JBQWdCLENBQUNDLElBQUQsQ0FGcEIsOEtBT3lCQSxJQUFJLENBQUN3QixJQVA5Qiw2R0FTeUJ4QixJQUFJLENBQUN5QixLQVQ5QiwyRkFXeUJ6QixJQUFJLENBQUMwQixLQVg5Qiw0QkFZTUwsS0FaTiwwYUEwQlVmLFVBQVUsQ0FBQ04sSUFBSSxDQUFDMkIsS0FBTixDQUFWLENBQXVCQyxJQUF2QixDQUE0QixFQUE1QixDQTFCVixvS0E4QmE1QixJQUFJLENBQUM2QixLQTlCbEIseUhBb0NNZCxVQUFVLENBQUNmLElBQUksQ0FBQzhCLElBQU4sQ0FwQ2hCO0FBd0NELEdBckREOztBQXNEQSxTQUFPO0FBQ0xWLElBQUFBLFdBQVcsRUFBWEE7QUFESyxHQUFQO0FBR0QsQ0FwSEQiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBtb2RhbFZpZXcgPSAoKSA9PiB7XHJcbiAgY29uc3QgeyBzZXROdW1Gb3JtYXQgfSA9IGNvbW1vbigpO1xyXG5cclxuICBjb25zdCBjcmVhdGVNb2RhbFRpdGxlID0gKGRhdGEpID0+IHtcclxuICAgIGNvbnN0IGxvZ29UZW1wbGF0ZSA9IGRhdGEubG9nb1xyXG4gICAgICA/IGA8aW1nIHNyYz1cIiR7ZGF0YS5sb2dvfVwiIGFsdD1cIiR7ZGF0YS5jb21wYW55fVwiIHN0eWxlPVwibWFyZ2luLXJpZ2h0OjhweDsgaGVpZ2h0OjQwcHg7XCI+YFxyXG4gICAgICA6ICcnO1xyXG5cclxuICAgIGNvbnN0IGNvbXBhbnkgPSBkYXRhLmNvbXBhbnkgPyBgJHtkYXRhLmNvbXBhbnl9IC0g5aCx5YO55ZauYCA6ICfloLHlg7nllq4nO1xyXG4gICAgY29uc3QgdGF4aUQgPSBkYXRhLnRheElEXHJcbiAgICAgID8gYDxkaXYgY2xhc3M9XCJ0ZXh0LW11dGVkXCI+57Wx5LiA57eo6Jmf77yaJHtkYXRhLnRheElEfTwvZGl2PmBcclxuICAgICAgOiAnJztcclxuXHJcbiAgICByZXR1cm4gYFxyXG4gICAgICA8ZGl2IGNsYXNzPVwiZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlclwiPlxyXG4gICAgICAgIDxkaXY+JHtsb2dvVGVtcGxhdGV9PC9kaXY+XHJcbiAgICAgICAgPGRpdj5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJmcy0yIGZ3LWJvbGRlclwiPiR7Y29tcGFueX08L2Rpdj5cclxuICAgICAgICAgICR7dGF4aUR9XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgIGA7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgY3JlYXRlSXRlbSA9IChkYXRhKSA9PiB7XHJcbiAgICByZXR1cm4gZGF0YS5tYXAoXHJcbiAgICAgIChlKSA9PlxyXG4gICAgICAgIGBcclxuICAgICAgICA8dHI+XHJcbiAgICAgICAgICA8dGQgY2xhc3M9XCJ0ZXh0LWxlZnRcIj4ke2UuY2F0ZWdvcnl9PC90ZD5cclxuICAgICAgICAgIDx0ZCBjbGFzcz1cInRleHQtbGVmdFwiPiR7ZS5pdGVtfTwvdGQ+XHJcbiAgICAgICAgICA8dGQ+JHtlLnByaWNlfTwvdGQ+XHJcbiAgICAgICAgICA8dGQ+JHtlLmNvdW50fSAkeyEhZS51bml0ID8gJy8nIDogJyd9ICR7ZS51bml0fTwvdGQ+XHJcbiAgICAgICAgICA8dGQgY2xhc3M9XCJ0ZXh0LWVuZCBwcmljZVwiPk5UJCAke3NldE51bUZvcm1hdChlLmFtb3VudCl9PC90ZD5cclxuICAgICAgICA8L3RyPiBcclxuICAgICAgYFxyXG4gICAgKTtcclxuICB9O1xyXG4gIGNvbnN0IGNyZWF0ZURlc2MgPSAoZGF0YSkgPT4ge1xyXG4gICAgcmV0dXJuIGRhdGFcclxuICAgICAgPyBgXHJcbiAgICAgIDx0YWJsZSBjbGFzcz1cInRhYmxlIHRhYmxlLXZjZW50ZXJcIj5cclxuICAgICAgICA8dGhlYWQ+XHJcbiAgICAgICAgICA8dHI+XHJcbiAgICAgICAgICAgIDx0aD7lgpnoqLs8L3RoPlxyXG4gICAgICAgICAgPC90cj5cclxuICAgICAgICA8L3RoZWFkPlxyXG4gICAgICAgIDx0Ym9keT5cclxuICAgICAgICAgIDx0cj5cclxuICAgICAgICAgICAgPHRkPlxyXG4gICAgICAgICAgICAgICR7SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShkYXRhKSkucmVwbGFjZSgvW1xcblxccl0vZywgJzxicj4nKX1cclxuICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgPC90aGVhZD5cclxuICAgICAgICA8L3Rib2R5PlxyXG4gICAgICA8L3RhYmxlPlxyXG4gICAgYFxyXG4gICAgICA6ICcnO1xyXG4gIH07XHJcbiAgY29uc3QgY3JlYXRlTW9kYWwgPSAoZGF0YSkgPT4ge1xyXG4gICAgY29uc3QgJGRhdGUgPSBkYXRhLmVuZERhdGVcclxuICAgICAgPyBgXHJcbiAgICAgIDxkdCBjbGFzcz1cImNvbC0yXCI+5aCx5YO55pel5pyfOjwvZHQ+XHJcbiAgICAgIDxkZCBjbGFzcz1cImNvbC00XCI+JHtkYXRhLnN0YXJ0RGF0ZX08L2RkPlxyXG4gICAgICA8ZHQgY2xhc3M9XCJjb2wtMlwiPuacieaViOaXpeacnzo8L2R0PlxyXG4gICAgICA8ZGQgY2xhc3M9XCJjb2wtNFwiPiR7ZGF0YS5lbmREYXRlfTwvZGQ+XHJcbiAgICAgIGBcclxuICAgICAgOiBgXHJcbiAgICAgIDxkdCBjbGFzcz1cImNvbC0yXCI+5aCx5YO55pel5pyfOjwvZHQ+XHJcbiAgICAgIDxkZCBjbGFzcz1cImNvbC0xMFwiPiR7ZGF0YS5zdGFydERhdGV9PC9kZD5cclxuICAgICAgYDtcclxuXHJcbiAgICByZXR1cm4gYFxyXG4gICAgPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHkgcHktM1wiPlxyXG4gICAgICAke2NyZWF0ZU1vZGFsVGl0bGUoZGF0YSl9XHJcbiAgICA8L2Rpdj5cclxuICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+XHJcbiAgICAgIDxkbCBjbGFzcz1cInJvd1wiPlxyXG4gICAgICAgIDxkdCBjbGFzcz1cImNvbC0yXCI+5aCx5YO55Lq65ZOhOjwvZHQ+XHJcbiAgICAgICAgPGRkIGNsYXNzPVwiY29sLTEwXCI+JHtkYXRhLm5hbWV9PC9kZD5cclxuICAgICAgICA8ZHQgY2xhc3M9XCJjb2wtMlwiPuiBr+e1oembu+ipsTo8L2R0PlxyXG4gICAgICAgIDxkZCBjbGFzcz1cImNvbC0xMFwiPiR7ZGF0YS5waG9uZX08L2RkPlxyXG4gICAgICAgIDxkdCBjbGFzcz1cImNvbC0yXCI+RS1NYWlsOjwvZHQ+XHJcbiAgICAgICAgPGRkIGNsYXNzPVwiY29sLTEwXCI+JHtkYXRhLmVtYWlsfTwvZGQ+XHJcbiAgICAgICAgJHskZGF0ZX1cclxuICAgICAgPC9kbD5cclxuICAgICAgPGRpdiBjbGFzcz1cInRhYmxlLXJlc3BvbnNpdmVcIj5cclxuICAgICAgICA8dGFibGUgY2xhc3M9XCJ0YWJsZSB0YWJsZS12Y2VudGVyXCI+XHJcbiAgICAgICAgICA8dGhlYWQ+XHJcbiAgICAgICAgICAgIDx0cj5cclxuICAgICAgICAgICAgICA8dGg+6aGe5YilPC90aD5cclxuICAgICAgICAgICAgICA8dGg+6aCF55uuPC90aD5cclxuICAgICAgICAgICAgICA8dGg+5Zau5YO5PC90aD5cclxuICAgICAgICAgICAgICA8dGg+5pW46YePPC90aD5cclxuICAgICAgICAgICAgICA8dGggY2xhc3M9XCJ0ZXh0LWVuZFwiPumHkemhjTwvdGg+XHJcbiAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICA8L3RoZWFkPlxyXG4gICAgICAgICAgPHRib2R5PlxyXG4gICAgICAgICAgICAke2NyZWF0ZUl0ZW0oZGF0YS5pdGVtcykuam9pbignJyl9XHJcbiAgICAgICAgICAgIDx0cj5cclxuICAgICAgICAgICAgICA8dGQgY29sc3Bhbj1cIjVcIiBjbGFzcz1cInRleHQtZW5kXCI+XHJcbiAgICAgICAgICAgICAgIOWQiOioiO+8mk5UJCA8c3BhbiBjbGFzcz1cImZzLTIgZnctYm9sZCB0ZXh0LWRhbmdlclwiPiR7XHJcbiAgICAgICAgICAgICAgICAgZGF0YS50b3RhbFxyXG4gICAgICAgICAgICAgICB9PC9zcGFuPiDlhYPmlbRcclxuICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgICAgPC90Ym9keT5cclxuICAgICAgICA8L3RhYmxlPlxyXG4gICAgICAgICR7Y3JlYXRlRGVzYyhkYXRhLmRlc2MpfVxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG4gICAgYDtcclxuICB9O1xyXG4gIHJldHVybiB7XHJcbiAgICBjcmVhdGVNb2RhbCxcclxuICB9O1xyXG59O1xyXG4iXSwiZmlsZSI6InZpZXcuanMifQ==
